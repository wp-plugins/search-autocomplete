!function(e){e(function(){var t=e.extend({fieldName:"#s",maxRows:10,minLength:4},SearchAutocomplete);t.fieldName=e("<div />").html(t.fieldName).text(),e(t.fieldName).autocomplete({source:function(a,n){e.ajax({url:t.ajaxurl,dataType:"json",data:{action:"autocompleteCallback",term:e(t.fieldName).val()},success:function(t){n(e.map(t.results,function(e){return{label:e.title,value:e.title,url:e.url}}))},error:function(e,t,a){console.log(e,t,a)}})},minLength:t.minLength,search:function(t){e(t.currentTarget).addClass("sa_searching")},create:function(){},select:function(e,t){location=t.item.url},open:function(t){var a=e(this).data("uiAutocomplete");a.menu.element.find("a").each(function(){var t=e(this),n=a.term.split(" ").join("|");t.html(t.text().replace(new RegExp("("+n+")","gi"),'<span class="sa-found-text">$1</span>'))}),e(t.target).removeClass("sa_searching")},close:function(){}})})}(jQuery);
